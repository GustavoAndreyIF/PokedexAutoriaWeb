<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Pok√©dex - Home</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<!-- CSS personalizado (apenas cores dos tipos) -->
		<link href="style.css" rel="stylesheet" />
	</head>
<body class="bg-light d-flex flex-column min-vh-100">
		<!-- Conte√∫do principal -->
		<header class="bg-danger text-white py-4 mb-4">
			<div class="container">
				<h1 class="mb-0">
					Pok√©dex
				</h1>
				<p class="lead mb-0">Descubra todos os pok√©mons!</p>
			</div>
		</header>

		<main class="container flex-grow-1">
			<!-- Grid de Cards dos Pok√©mons -->
			<div class="row g-3" id="pokemon-grid">
				<!-- Os cards dos Pok√©mons ser√£o inseridos aqui via JavaScript -->
			</div>

			<!-- Indicador de carregamento -->
			<div class="text-center py-5" id="loading-indicator" style="display: none">
				<div class="spinner-border text-primary mb-3" role="status">
					<span class="visually-hidden">Carregando...</span>
				</div>
				<p class="text-muted">Carregando pok√©mons...</p>
			</div>

			<!-- Container para mensagens de erro -->
			<div
				class="alert alert-danger rounded-4 my-4"
				id="error-container"
				style="display: none"
			>
				<!-- Mensagens de erro ser√£o inseridas aqui -->
			</div>

			<!-- Bot√£o carregar mais -->
			<div class="text-center my-4">
				<button
					class="btn btn-primary btn-lg rounded-pill px-4 py-2"
					id="load-more-btn"
				>
					<i class="fas fa-plus-circle me-2"></i>
					Carregar Mais Pok√©mons
				</button>
			</div>

			<!-- Mensagem de fim -->
			<div
				class="bg-gradient-blue text-white rounded-4 p-4 my-4 text-center"
				id="end-message"
				style="display: none"
			>
				<h4 class="mb-2"><i class="fas fa-trophy me-2"></i>Parab√©ns!</h4>
				<p class="mb-0">Voc√™ viu todos os pok√©mons dispon√≠veis!</p>
			</div>
		</main>
		<!-- Rodap√© -->
		<footer>
			<div class="bg-dark text-white py-3">
				<div class="container text-center">
					<p class="mb-0">
						Copyright &copy; 2025 GustavoAndreyIF, Leonardo1234321, TrojanN63
					</p>
					<p class="mb-0">
						Desenvolvido por <a href="https://github.com/GustavoAndreyIF" target="_blank">Gustavo Andrey</a>
						<a href="https://github.com/Leonardo1234321" target="_blank">Leonardo Furtado</a>
						<a href="https://github.com/TrojanN63" target="_blank">Arthur Alves</a>
					</p>
					<p class="mb-0">Link da API: <a href="https://pokeapi.co/" target="_blank">https://pokeapi.co/</a></p>
				</div>
			</div>
		</footer>

		<!-- Bootstrap 5 JS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

		<!-- JavaScript da aplica√ß√£o -->
		<script type="module" src="main.js"></script>

		<script>
			// =============================================================================
			// INTEGRA√á√ÉO FRONT-END com main.js
			// =============================================================================

			console.log("üöÄ INICIALIZANDO FRONT-END DA HOME");

			// Event listener para cards de pokemon (navega√ß√£o)
			document.addEventListener("click", (event) => {
				const pokemonCard = event.target.closest(".card[data-pokemon-id]");
				if (pokemonCard) {
					const pokemonId = parseInt(pokemonCard.dataset.pokemonId);
					console.log(`üéØ CLIQUE NO CARD: Pokemon ID ${pokemonId}`);

					// Efeito visual no clique
					pokemonCard.style.transform = "scale(0.98)";
					setTimeout(() => {
						pokemonCard.style.transform = "";
					}, 150);

					// Navegar para p√°gina de detalhes
					window.location.href = `detalhes.html?id=${pokemonId}`;
				}
			});

			// Adicionar efeitos hover nos cards
			document.addEventListener("mouseover", (event) => {
				const pokemonCard = event.target.closest(".card[data-pokemon-id]");
				if (pokemonCard) {
					pokemonCard.style.transform = "translateY(-5px)";
					pokemonCard.classList.add("shadow");
				}
			});

			document.addEventListener("mouseout", (event) => {
				const pokemonCard = event.target.closest(".card[data-pokemon-id]");
				if (pokemonCard) {
					pokemonCard.style.transform = "";
					pokemonCard.classList.remove("shadow");
				}
			}); // Event listener para bot√£o "Carregar Mais"
			document.addEventListener("DOMContentLoaded", () => {
				const loadMoreBtn = document.getElementById("load-more-btn");
				if (loadMoreBtn) {
					loadMoreBtn.addEventListener("click", () => {
						console.log("üîÑ CLIQUE NO BOT√ÉO: Carregar Mais");
						loadMorePokemons();
					});
				}
			});

			// Aguardar carregamento do main.js e inicializar
			window.addEventListener("load", () => {
				// Verificar se homeManager foi carregado
				if (typeof homeManager !== "undefined") {
					console.log("‚úÖ homeManager carregado, aplica√ß√£o pronta!");
					console.log("üìä Status inicial:", homeManager.getStatus());
				} else {
					console.error("‚ùå main.js n√£o foi carregado corretamente");
				}
			});
		</script>
	</body>
</html>
